<ion-header>
  <ion-toolbar>
    <ion-title>{{ lugar?.name }}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-spinner *ngIf="isLoading"></ion-spinner>

  <div class="container" *ngIf="!isLoading">
    <!-- Carrusel de fotos -->
    <div class="photo-carousel" *ngIf="lugar.photos?.length > 0">
      <button class="prev" (click)="prevPhoto()">&#10094;</button>
      <img
        [src]="lugar.photos[lugar.currentPhotoIndex]?.url"
        alt="{{ lugar.name }}"
      />
      <button class="next" (click)="nextPhoto()">&#10095;</button>
    </div>

    <!-- Información del lugar -->
    <div class="lugar-details">
      <h2>{{ lugar.name }}</h2>
      <p>{{ lugar.description }}</p>
      <p><strong>Ciudad:</strong> {{ lugar.city }}</p>
      <p><strong>Precio por noche:</strong> ${{ lugar.pricePerNight }}</p>
      <p><strong>Costo de limpieza:</strong> ${{ lugar.cleaningCost }}</p>
    </div>

    <!-- Lista de reservas -->
    <div class="reservas-list">
      <h3>Reservas</h3>
      <div *ngIf="reservas.length === 0" class="no-reservas">
        <p>No hay reservas para este lugar.</p>
      </div>
      <ng-container *ngIf="reservas.length > 0">
        <div class="reserva-card" *ngFor="let reserva of reservas">
          <h4>Reserva ID: {{ reserva.id }}</h4>
          <p><strong>Cliente:</strong> {{ reserva.customer }}</p>
          <p><strong>Email:</strong> {{ reserva.customerEmail }}</p>
          <p><strong>Teléfono:</strong> {{ reserva.customerPhone }}</p>
          <p><strong>Fechas:</strong> {{ reserva.startDate }} - {{ reserva.endDate }}</p>
          <p><strong>Precio Total:</strong> ${{ reserva.totalPrice }}</p>
        </div>
      </ng-container>
    </div>
  </div>
</ion-content>
